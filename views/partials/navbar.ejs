<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
  <a class="navbar-brand" href="/">Groceria</a>

  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navBarContent">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navBarContent">

    <ul class="navbar-nav me-auto mb-2 mb-lg-0">

      <% if (user) { %>

        <% if (user.role === "admin") { %>
          <!-- ADMIN NAV -->
          <li class="nav-item">
            <a class="nav-link" href="/inventory">Inventory</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/addProduct">Add Product</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/admin/orders">Admin Orders</a>
          </li>

        <% } else { %>
          <!-- CUSTOMER NAV (any non-admin user) -->
          <li class="nav-item">
            <a class="nav-link" href="/shopping">Shop</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/cart">
              My Cart
              <% if (cartCount > 0) { %>
                <span class="badge bg-danger"><%= cartCount %></span>
              <% } %>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/orders">My Orders</a>
          </li>
        <% } %>

      <% } %>

    </ul>

    <ul class="navbar-nav ms-auto">

      <% if (!user) { %>
        <li class="nav-item">
          <a class="nav-link" href="/login">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/register">Register</a>
        </li>

      <% } else { %>
        <span class="navbar-text me-3">
          Welcome, <%= user.username %>
          <% if (user.role === "admin") { %> (admin)<% } %>
        </span>

        <li class="nav-item">
          <a class="btn btn-outline-light btn-sm" href="/logout">Logout</a>
        </li>
      <% } %>

    </ul>

  </div>
</nav>